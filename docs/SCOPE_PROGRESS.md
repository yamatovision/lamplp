# AppGenius 理想的ドキュメント構造と開発フロー整備計画

## 1. 基本情報

- **進捗状況**: 進行中 (79% 完了)
- **完了タスク数**: 19/24
- **進捗率**: 79.2%
- **最終更新日**: 2025-05-19
- **最終更新内容**: 進捗管理ファイル名統一フェーズの完了タスク更新

## 2. 実装概要

AppGeniusの開発プロセスを効率化するため、最適化されたドキュメント構造と開発フローを確立します。シンプルで論理的なドキュメントの階層構造を設計し、モックアップを中心としたAIエージェント協働システムを整備します。これにより、非技術者でも理解しやすい開発プロセスと、AIエージェント間の円滑な連携を実現します。

この計画は、後続のAIエージェントシステム完成計画（2025-05-20開始予定）の基盤となるものです。ドキュメント構造と開発フローの整備を通じて、各AIエージェントの能力を最大化し、相互連携を強化するための準備を行います。

## 3. 参照ドキュメントと成果物

### 設計・プロンプト関連
- **改善版開発方法論**: [improved_developmentway.md](/docs/refactoring/improved_developmentway.md)
- **開発方法論2.0**: [developmentway2.md](/docs/prompts/developmentway2.md)
- **開発会話記録**: [developmentConversation](/docs/prompts/developmentConversation)
- **AIエージェントシステム完成計画書**: [agent-system-enhancement-plan.md](/docs/prompts/agent-system-enhancement-plan.md)
- **AIエージェントプロンプト作成ガイド**: [prompt_excellence_guide.md](/docs/prompts/prompt_excellence_guide.md)
- **エージェントプロンプトテンプレート集**: [templates/](/docs/prompts/templates/)
  - [モックアップクリエイター](/docs/prompts/templates/mockup-creator-template.md)
  - [データモデルアーキテクト](/docs/prompts/templates/data-model-architect-template.md)
  - [APIデザイナー](/docs/prompts/templates/api-designer-template.md)
  - [スコーププランナー](/docs/prompts/templates/scope-planner-template.md)
  - [プロジェクト分析エージェント](/docs/prompts/templates/project-analysis-template.md)
  - [プロジェクト分析エージェント](/docs/prompts/templates/project-analyst-template.md)

### タスク計画関連
- **進捗管理ファイル名統一計画**: [status_to_progress_migration_plan.md](/docs/tasks/refactoring/status_to_progress_migration_plan.md)

### テンプレート・ガイドライン
- **要件定義テンプレート**: [ideal_requirements_template.md](/docs/prompts/ideal_requirements_template.md)
- **スコープ進捗文書テンプレート**: [improved_scope_progress_template.md](/docs/prompts/improved_scope_progress_template.md)
- **Markdownテンプレートガイド**: [markdown-template-guide.md](/docs/templates/markdown-template-guide.md)
- **サンプルドキュメント**: 
  - [サンプル現況文書](/docs/samples/sample-current-status.md)
  - [サンプルAPI仕様書](/docs/samples/sample-api-spec.md)
  - [初期スコープ進捗テンプレート](/docs/samples/initial-scope-progress-template.md)
  - [サンプル技術スタック](/docs/samples/sample-tech-stack.md)

### アーキテクチャ関連
- **ドキュメント参照関係の設計**: [document-references.md](/docs/architecture/document-references.md)
- **ドキュメント参照マップ**: [reference-map.md](/docs/architecture/reference-map.md)
- **参照検証ガイドライン**: [reference-validation.md](/docs/architecture/reference-validation.md)
- **エージェント通信プロトコル**: [agent-communication-protocol.md](/docs/architecture/agent-communication-protocol.md)
- **ファイル命名規約**: [file-naming-metadata-standards.md](/docs/architecture/file-naming-metadata-standards.md)

### エージェント定義ドキュメント
- **要件定義エージェント「レコンX」**: [★1requirements_creator.md](/docs/prompts/★1requirements_creator.md)
- **リファクタリングスペシャリスト「カットマスター3.0」**: [★15refactoring_expert.md](/docs/prompts/★15refactoring_expert.md)

## 4. 依存関係

- **前提となる機能**: 既存のAIエージェントシステム
- **影響を与える機能**: プロジェクト全体の開発プロセス、ドキュメント管理、AI支援開発
- **外部サービス依存**: Claude API

## 5. 変更フロー

```
[現状分析] → [理想的ドキュメント構造の設計] → [開発プロセスの順序策定] → [エージェント構成の最適化] → [テンプレート・ガイドライン作成] → [統合テスト] → [フィードバック反映] → [AIエージェントシステム強化]
```

## 6. タスクリスト

### A. ドキュメント構造設計フェーズ

- [x] **A-1**: 理想的なドキュメントディレクトリ構造の設計
- [x] **A-2**: ドキュメント作成・更新順序の策定
- [x] **A-3**: ドキュメント間の参照関係の設計

### B. エージェント構成最適化フェーズ

- [x] **B-1**: 理想的なAIエージェント構成の設計
- [x] **B-2**: エージェント間の情報フロー設計
- [x] **B-3**: エージェントプロンプトテンプレートの作成


### C. テンプレート・ガイドライン作成フェーズ

- [x] **C-1**: 要件定義書テンプレートの改善
- [x] **C-2**: 進捗管理文書テンプレートの改善
- [x] **C-3**: ファイル命名規約とメタデータ標準の作成

### D. ドキュメント実装・検証フェーズ

- [x] **D-1**: ドキュメントテンプレート実装
- [x] **D-2**: AIエージェントプロンプト作成ガイド
- [x] **D-3**: スコープ進捗管理テンプレート作成

### E. 統合・最終化フェーズ

- [x] **E-1**: プロジェクトファウンデーションのプロンプト整合性検証

- [ ] **E-2**: 2. モックアップクリエイターのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - UI/UX設計ガイドライン整合性確認
    - データモデルアーキテクトとの連携改善

- [ ] **E-3**: 3. データモデルアーキテクトのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 型定義スタイル標準化
    - APIデザイナーとの情報連携強化

- [ ] **E-4**: 4. APIデザイナーのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - エンドポイント命名規則の標準化
    - 型定義参照スタイルの統一

- [ ] **E-5**: 5. 要件定義統合エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 情報統合メカニズム改善
    - 実装優先順位決定基準明確化

- [ ] **E-6**: 6. 環境変数収集エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - セキュリティ対策強化
    - 環境別設定管理の標準化

- [ ] **E-7**: 7. 認証システムエージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - JWT実装パターン標準化
    - 権限管理アプローチ一貫性確保

- [ ] **E-8**: 8. スコーププランナーのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - タスク分解精度向上
    - SCOPE_PROGRESS.md形式標準化

- [ ] **E-9**: 9. フロントエンド実装エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - コーディングスタイル一貫性確保
    - API連携パターン最適化

- [ ] **E-10**: 10. バックエンド実装エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - データアクセスパターン標準化
    - ビジネスロジック分離原則明確化

- [ ] **E-11**: 11. テスト管理エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - テスト戦略立案アプローチ改善
    - 実装エージェントとの連携強化

- [ ] **E-12**: 12. デバッグ探偵のプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 問題分析フレームワーク標準化
    - 根本原因特定手法強化

- [ ] **E-13**: 13. デプロイ設定エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - CI/CDパイプライン構成最適化
    - 環境差異対応メカニズム改善

- [ ] **E-14**: 14. GitHub管理エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - ブランチ戦略標準化
    - セキュリティ対策強化

- [ ] **E-15**: 15. プロジェクト分析エージェントのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - コード分析アプローチ体系化
    - 分析レポート形式標準化

- [ ] **E-16**: 16. リファクタリングスペシャリストのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 技術的負債特定手法改善
    - コード最適化パターンのライブラリ化

- [ ] **E-17**: 17. 段階的コード分割リファクタリングアドバイザーのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 大規模ファイル分析手法改善
    - 並行動作保証メカニズム最適化

- [ ] **E-18**: 18. チェンジディレクターのプロンプト整合性検証
  - 目標: 2025-05-19
  - 内容:
    - 変更影響分析フレームワーク改善
    - AIエージェント間調整メカニズム強化

### F. 進捗管理ファイル名統一フェーズ
- **参照計画**: [status_to_progress_migration_plan.md](/docs/tasks/refactoring/status_to_progress_migration_plan.md)
- **実装状況**: フェーズ1（基本互換性対応）完了、フェーズ2（完全移行）進行中

### G. AIエージェント最適化フェーズ
- **参照資料**: 
  - [AIエージェントプロンプト作成ガイド](/docs/prompts/prompt_excellence_guide.md)
  - [エージェントプロンプトテンプレート集](/docs/prompts/templates/)
  - [AIエージェントシステム完成計画書](/docs/prompts/agent-system-enhancement-plan.md)
  - [サンプル進捗テンプレート](/docs/samples/initial-scope-progress-template.md)

- [ ] **G-1**: AIエージェント名の標準化と最適化
  - 目標: 2025-05-21
  - 内容:
    - 現在のエージェント名と番号付けの整合性確認
    - 分かりやすく覚えやすいエージェント名の検討
    - 担当業務を適切に反映した名称への変更
    - 番号付けの連番化と論理的整理
    
- [ ] **G-2**: 開発プロンプトカード表示方法の改善
  - 目標: 2025-05-21
  - 内容:
    - カード表示レイアウトのユーザビリティ向上
    - エージェント特性を視覚的に表現する工夫
    - サンプル成果物へのリンク追加
    - エージェント間連携フローの可視化

- [ ] **G-3**: テンプレートファイルへのエージェント名反映
  - 目標: 2025-05-21
  - 内容:
    - initial-scope-progress-template.mdの更新
    - SCOPE_PROGRESS_TEMPLATE.mdの更新
    - エージェント名と番号の一貫性確保
    - すべての参照ドキュメントでの用語統一

- [x] **F-1**: FileSystemServiceの拡張実装
  - 完了日: 2025-05-19
  - 成果:
    - getProgressFilePath メソッド追加
    - 新旧ファイル名対応の優先順位ロジック実装
    - createProgressFile メソッド追加

- [x] **F-2**: ProjectServiceの更新
  - 完了日: 2025-05-19
  - 成果:
    - getProgressFilePath メソッド使用に変更
    - 新規プロジェクト作成時の対応変更
    - 既存プロジェクト読み込み対応

- [x] **F-3**: テンプレートファイルの更新
  - 完了日: 2025-05-19
  - 成果:
    - SCOPE_PROGRESS_TEMPLATE.mdの作成
    - ヘルパーメソッドの追加
    - CLAUDETEMPLATE.mdの参照パス更新

- [ ] **F-4**: UI関連コードの完全移行とCURRENT_STATUS参照の削除
  - 目標: 2025-05-21
  - 内容:
    - ScopeManagerPanelから「current-status」参照の完全削除
    - フロントエンドのeventとstate名の更新（CURRENT_STATUS → SCOPE_PROGRESS）
    - UIのラベルとメッセージの用語統一（「ステータス」→「進捗」）
    - CURRENT_STATUSTEMPLATEの完全削除
    - 完全移行後の動作検証とリグレッションテスト

## 7. 実装上の注意点

### ドキュメント構造関連
- ドキュメントは「最大3階層」の制限を厳守し、ナビゲーションを容易にすること
- 各エージェントが必要な情報に効率的にアクセスできる構造を維持すること
- 非技術者にも理解しやすい視覚的要素や説明を取り入れること
- モックアップ中心アプローチを全プロセスにおいて徹底すること
- ドキュメントの生成と保守の労力を最小化する設計にすること
- データモデルの型定義は`shared/index.ts`を「単一の真実源」として参照すること
- APIドキュメントでは型定義への直接参照を必ず含めること

### AIエージェント関連
- エージェント間の連携を最優先事項とし、情報の受け渡しが円滑に行われるよう設計すること
- コンテキストウィンドウの効率的な活用を常に意識し、冗長な情報を排除すること
- 各エージェントは独立して機能しつつも、全体として一貫性のある出力を生成できるよう設計すること
- エージェントの自己診断能力を強化し、エラー検出・修正を自律的に行えるようにすること
- 標準化と柔軟性のバランスを取り、特殊なケースにも対応できる拡張性を確保すること
- すべてのプロンプトは「単一の真実源」の原則に従い、整合性を維持すること
- プロンプト作成には「AIエージェントプロンプト作成の卓越ガイド」に従うこと



# ドキュメント参照関係マップ

## 1. 概要

このドキュメントはAppGeniusプロジェクトにおける主要ドキュメント間の参照関係を視覚的に示し、ドキュメント間のナビゲーションを容易にするためのガイドです。この参照マップを活用することで、AIエージェントと開発者は必要な情報に効率的にアクセスできます。

## 2. 中心ドキュメントと参照フロー

```
                                                 ┌─────────────────┐
                                            ┌───▶│  mockups/      │
                                            │    │  - index.html   │
                                            │    │  - pages/*.html │
                                            │    │  - components/* │
                                            │    └─────────────────┘
                                            │             ▲
                                            │             │
┌─────────────────┐                         │             │
│ requirements.md │◀────┐                   │             │
└────────┬────────┘     │                   │             │
         │              │                   │    ┌────────┴────────┐
         ▼              │                   └────┤                 │
┌─────────────────┐     │                        │ SCOPE_PROGRESS.md
│ architecture/   │     │                   ┌────┤                 │
│ - tech-stack.md │     │                   │    └────────┬────────┘
│ - dir-structure │     │                   │             │
│ - data-model.md │◀────┼───────────────────┘             │
└────────┬────────┘     │                                 │
         │              │                                 │
         ▼              │                                 │
┌─────────────────┐     │                                 │
│ api/            │     │                                 │
│ - index.md      │     │                                 │
│ - auth.md       │◀────┘                                 ▼
│ - users.md      │                              ┌─────────────────┐
│ - feature.md    │                              │ deployment/     │
└────────┬────────┘                              │ - deploy.md     │
         │                                       │ - env-template.md
         │                                       └─────────────────┘
         ▼                                           
┌─────────────────┐                                   
│ shared/index.ts │                                   
│ - データモデル型定義 │                                   
│ - API型定義      │                                   
└─────────────────┘                                   
```

## 3. ドキュメント依存関係表

| ドキュメント | 参照先 | 参照元 | 主な目的 |
|-------------|-------|--------|---------|
| requirements.md | mockups/, architecture/, api/ | SCOPE_PROGRESS.md, すべてのドキュメント | プロジェクト全体の要件定義 |
| SCOPE_PROGRESS.md | requirements.md, mockups/, architecture/, api/, deployment/ | 実装タスク | 現在のスコープと実装タスク管理 |
| mockups/*.html | requirements.md | requirements.md, SCOPE_PROGRESS.md, api/ | 視覚的なUI設計 |
| architecture/tech-stack.md | requirements.md | SCOPE_PROGRESS.md, deployment/ | 技術選定の理由と詳細 |
| shared/index.ts | requirements.md, mockups/ | api/*.md, 実装コード | データモデル型定義の単一の真実源 |
| api/*.md | requirements.md, shared/index.ts | SCOPE_PROGRESS.md, 実装コード | APIエンドポイント仕様 |
| deployment/deploy.md | architecture/tech-stack.md | SCOPE_PROGRESS.md | デプロイ手順と環境設定 |

## 4. ドキュメントタイプと参照パターン

### 4.1 計画ドキュメント
- **requirements.md** → すべてのドキュメント（要件の真実源）
- **architecture/tech-stack.md** → 実装・デプロイ関連ドキュメント（技術選定の真実源）
- **architecture/directory-structure.md** → 実装関連ドキュメント（構造の真実源）

### 4.2 設計ドキュメント
- **mockups/*.html** → requirements.md, api/*.md（UI設計の真実源）
- **shared/index.ts** → api/*.md, 実装コード（データ構造の真実源）
- **api/*.md** → 実装コード（API仕様の真実源）

### 4.3 実装ドキュメント
- **SCOPE_PROGRESS.md** → 上記すべて（現在のタスクの真実源）
- **shared/index.ts** → 型定義とデータモデル（型定義の真実源）
- **deployment/*.md** → 実装・設定コード（デプロイ情報の真実源）

## 5. ドキュメント内部構造と参照セクション

### 5.1 requirements.md 構造
```
# [プロジェクト名] 要件定義書
├── 1. プロジェクト概要
│   ├── 1.1 目的と背景
│   ├── 1.2 ターゲットユーザー
│   └── 1.3 核となる機能と価値
├── 2. 画面一覧
│   ├── 2.1 ページ一覧
│   └── 2.2 画面フロー
├── 3. 画面詳細
├── 4. 共通コンポーネント
├── 5. データモデル概要
├── 6. 特記すべき非機能要件
├── 7. 開発計画とマイルストーン
├── 8. 現在のフォーカス
├── 9. 添付資料
└── 10. 変更履歴
```

### 5.2 SCOPE_PROGRESS.md（スコープ進捗文書）構造
```
# スコープ進捗状況: [機能名/ページ名]
├── 1. 基本情報
├── 2. 実装概要
├── 3. 参照ドキュメント
├── 4. データフロー
├── 5. タスクリスト
│   ├── バックエンド実装
│   ├── フロントエンドUI実装
│   ├── フロントエンド状態管理
│   └── テスト＆ドキュメント
├── 6. 参照資料リンク
└── 7. エラー引き継ぎログ
```

### 5.3 api/*.md 構造
```
# API仕様書
├── メタデータ（参照セクション）
├── エンドポイント一覧
└── 各エンドポイント詳細
    ├── リクエスト形式 → shared/index.ts (型定義への参照)
    ├── レスポンス形式 → shared/index.ts (型定義への参照)
    ├── エラーレスポンス → shared/index.ts (ApiErrorResponse)
    └── 認証要件
```

### 5.4 shared/index.ts 構造
```
# 型定義ファイル
├── ファイルヘッダーコメント（目的と使用方法）
├── インポート
├── 基本型定義
├── 列挙型定義
├── APIレスポンス型定義
├── サービス結果型定義
├── 認証関連型定義
├── モデル型定義（ユーザー、リスティングなど）
└── 変更履歴コメント
```

### 5.5 tech-stack.md 構造
```
# 技術スタック仕様書
├── 1. 概要
├── 2. アーキテクチャ概要
├── 3. 技術選定詳細
│   ├── 3.1 フロントエンド技術
│   ├── 3.2 バックエンド技術
│   ├── 3.3 データベース技術
│   ├── 3.4 AI / ML 技術
│   ├── 3.5 クラウドインフラストラクチャ
│   └── 3.6 開発・運用ツール
├── 4. 開発環境要件
│   ├── 4.1 ローカル開発環境
│   └── 4.2 必要な環境変数
├── 5. 技術的制約と考慮事項
├── 6. 将来の技術検討事項
├── 7. 参考資料
└── 改訂履歴
```

## エージェント構成

AppGeniusでは、18の専門AIエージェントが連携して開発を進めます。各エージェントは特定の役割と責任を持ち、一貫した成果物を生成します。

### 1. コア設計エージェント群

#### 1. レコンX（要件定義エージェント）
- **役割**: 要件定義、基本アーキテクチャの設計
- **成果物**: requirements.md, 初期 directory-structure.md
- **参照**: クライアント要望資料、業界標準、競合分析
- **特徴**: プロジェクトの基盤となる設計を担当、方向性を決定
- **プロンプト**: [★1requirements_creator.md](/docs/prompts/★1requirements_creator.md)
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/cdc2b284c05ebaae2bc9eb1f3047aa39

#### 2. モックアップクリエイター
- **役割**: UI/UX設計、HTMLモックアップ作成
- **成果物**: mockups/ ディレクトリ内の全ファイル
- **参照**: requirements.md, UI/UXガイドライン
- **特徴**: ビジュアル面に集中、ユーザー体験を具体化
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/8cdfe9875a5ab58ea5cdef0ba52ed8eb

#### 3. データモデルアーキテクト
- **役割**: データ構造設計、エンティティ関係定義、型システム設計
- **成果物**: shared/index.ts
- **参照**: requirements.md, mockups/, tech-stack.md
- **特徴**: モックアップからデータ要件を抽出して型定義化、フロントエンド/バックエンド間の型共有を設計
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/f0f6805b80ae32f3846c35fe9df4eefe

#### 4. APIデザイナー
- **役割**: REST API設計、エンドポイント定義
- **成果物**: docs/api/ ディレクトリ内の全ファイル
- **参照**: shared/index.ts, mockups/, requirements.md
- **特徴**: フロントとバックエンドの接続ポイントを設計

#### 5. 要件定義統合エージェント
- **役割**: モックアップから抽出された要件の統合、技術スタックの策定、実装計画への橋渡し
- **成果物**:
  - 更新された requirements.md
  - 最終化された tech-stack.md
  - 最終化された directory-structure.md
  - 実装優先順位計画
- **参照**: モックアップ一式, データモデル, API仕様, 初期要件定義
- **特徴**:
  - モックアップ作成段階で発見された要件を統合
  - 全モックアップとデータモデルを分析してプロジェクトに最適な技術スタックを選定
  - 実装フェーズの基盤を準備

### 2. 基盤構築エージェント群

#### 6. 環境変数収集エージェント
- **役割**: 本番環境接続用の環境変数収集と管理
- **成果物**: .env, docs/deployment/env-template.md
- **参照**: tech-stack.md, 既存APIキーと認証情報
- **特徴**: 実際の本番環境キーを安全に収集・管理
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/50eb4d1e924c9139ef685c2f39766589

#### 7. 認証システムエージェント
- **役割**: JWT認証システムの設計と実装
- **成果物**: 認証関連コードとドキュメント
- **参照**: tech-stack.md, API仕様書, データモデル
- **特徴**: セキュアで自社実装のJWTベース認証システム
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/44b995b91e9879080c4e0169e7a51c0e

### 3. 実装エージェント群

#### 8. スコーププランナー
- **役割**: タスク分解、依存関係分析、実装計画
- **成果物**: SCOPE_PROGRESS.md
- **参照**: requirements.md, mockups/, shared/index.ts, api/, tech-stack.md
- **特徴**: 開発ロードマップを作成、具体的なタスクに落とし込む
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/b168dcd63cc12e15c2e57bce02caf704

#### 9. フロントエンド実装エージェント
- **役割**: UI実装、状態管理、APIクライアント
- **成果物**: フロントエンドコード
- **参照**: mockups/, api/, shared/index.ts, SCOPE_PROGRESS.md, tech-stack.md
- **特徴**: モックアップを動作するコードに変換
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/868ba99fc6e40d643a02e0e02c5e980a

#### 10. バックエンド実装エージェント
- **役割**: API実装、データアクセス、ビジネスロジック
- **成果物**: バックエンドコード
- **参照**: shared/index.ts, api/, SCOPE_PROGRESS.md, tech-stack.md
- **特徴**: 型定義と仕様からサーバー側を実装

### 4. 品質管理エージェント群

#### 11. テスト管理エージェント
- **役割**: テスト戦略、DB-TDD、品質保証
- **成果物**: testing/test-strategy.md, テストコード
- **参照**: requirements.md, api/, 実装コード
- **特徴**: データベース直接検証による効率的で信頼性の高いテスト
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/247df2890160a2fa8f6cc0f895413aed

#### 12. デバッグ探偵
- **役割**: フロントエンドエラーとAPI連携問題の分析・解決
- **成果物**: バグ修正、問題分析レポート
- **参照**: フロントエンドコード、API定義、ログ
- **特徴**: 根本原因分析と最小変更での問題解決
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/942ec5f5b316b3fb11e2fd2b597bfb09

### 5. デプロイと管理エージェント群

#### 13. デプロイ設定エージェント
- **役割**: Google Cloud Run環境へのデプロイ支援
- **成果物**: docs/deployment/deploy.md, デプロイスクリプト
- **参照**: tech-stack.md, 実装コード
- **特徴**: 環境差異の解消と安定したデプロイプロセスの確立
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/612fc1991ca477744c4544255d40fe0b

#### 14. GitHub管理エージェント
- **役割**: コード管理、安全なアップロード
- **成果物**: .gitignore, ブランチ戦略, コミット管理
- **参照**: プロジェクトファイル, .env
- **特徴**: 作業保全とセンシティブ情報の保護を最優先
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/e6167ac13d15f778c0cae369b0068813

### 6. 特殊目的エージェント群

#### 15. プロジェクト分析エージェント
- **役割**: 既存コード分析、リバースエンジニアリング
- **成果物**: 既存プロジェクト分析ドキュメント
- **参照**: 既存コードベース全体, 依存関係ファイル
- **特徴**: 途中参加時に既存システムを解析、現状把握を支援

#### 16. リファクタリングスペシャリスト
- **役割**: コード最適化、技術的負債対策
- **成果物**: リファクタリング計画と実装
- **参照**: 既存コード, パフォーマンス指標, コードレビュー
- **特徴**: 既存コードの品質向上、保守性の改善
- **URL**: http://appgenius-portal-test-235426778039.asia-northeast1.run.app/api/prompts/public/af9d922c29beffe1224ac6236d083946

#### 17. 段階的コード分割リファクタリングアドバイザー
- **役割**: 大規模コードファイルの安全な分割
- **成果物**: 詳細なリファクタリングタスクリスト、実装計画
- **参照**: リファクタリング対象コード
- **特徴**: 「骨を残して肉を入れ替える」アプローチによる安全なコード分割

#### 18. チェンジディレクター
- **役割**: 追加要件の分析、変更管理、AIエージェント間の調整
- **成果物**: 変更影響分析、更新プラン
- **参照**: requirements.md, SCOPE_PROGRESS.md, 全ドキュメント, 変更要求
- **特徴**: 既存プロジェクトへの機能追加やスコープ変更を管理

## ドキュメント構造

AppGeniusプロジェクトでは、以下のような構造でドキュメントを管理します：

```
project/
├── docs/                           # ドキュメントのルートディレクトリ
│   ├── requirements.md             # プロジェクト全体の要件定義書
│   ├── SCOPE_PROGRESS.md           # スコープ進捗状況とタスクリスト（中心的文書）
│   │
│   ├── tasks/                      # 各種タスク計画・設計のディレクトリ
│   │   ├── features/               # 新機能追加・改善タスク
│   │   │   └── feature-name.md     # 個々の機能追加・改善の設計書
│   │   ├── refactoring/            # リファクタリングタスク
│   │   │   └── refactoring-name.md # 個々のリファクタリングの設計書
│   │   └── bugfixes/               # バグ修正タスク
│   │       └── bugfix-name.md      # 個々のバグ修正の設計書
│   │
│   ├── architecture/               # アーキテクチャ関連ドキュメント
│   │   ├── directory-structure.md  # 理想的ディレクトリ構造の定義
│   │   └── tech-stack.md           # 技術スタックと選定理由
│   │
│   ├── api/                        # API仕様書
│   │   ├── index.md                # API概要と共通規則
│   │   ├── auth.md                 # 認証関連API
│   │   ├── users.md                # ユーザー管理API
│   │   └── [機能カテゴリ].md        # 機能別APIドキュメント
│   │
│   ├── deployment/                 # デプロイ関連
│   │   ├── env-template.md         # 環境変数テンプレート（実際の値は除外）
│   │   └── deploy.md               # デプロイ手順と環境設定
│   │
│   └── testing/                    # テスト関連（必要に応じて）
│       └── test-strategy.md        # テスト戦略とアプローチ
│
├── mockups/                        # モックアップのルートディレクトリ
│   ├── index.html                  # モックアップ一覧・ナビゲーション
│   ├── components/                 # 共通コンポーネント
│   │   └── [component-name].html   # 再利用可能なコンポーネント
│   │
│   └── pages/                      # ページ別モックアップ
│       ├── [page-name].html        # 各ページのモックアップ
│       └── assets/                 # モックアップで使用する画像等
│
├── shared/                         # 共有ファイルディレクトリ
│   └── index.ts                    # 型定義の単一の真実源
│
└── .env.example                    # 環境変数の例（実際の値は除外）
```

### ドキュメント構造の特徴

1. **シンプルな階層構造**:
   - 最大3階層に制限し、ナビゲーションを容易に
   - 関連文書を論理的にグループ化

2. **中心文書の明確化**:
   - requirements.mdとSCOPE_PROGRESS.mdをトップレベルに配置
   - 最も頻繁に参照される文書へのアクセスを簡単に

3. **機能別の文書分割**:
   - APIドキュメントを機能カテゴリ別に分割
   - 大きすぎる単一文書を避け、特定情報へのアクセスを容易に

4. **モックアップの独立管理**:
   - mockups/ディレクトリを別途設け、視覚的資料を整理
   - ページとコンポーネントの明確な分離

5. **実装との連携**:
   - 実際のソースコードディレクトリ構造と対応するドキュメント構造
   - shared/index.tsを通じたドキュメントとコード間の一貫性確保
   - 型定義を通じたフロントエンド/バックエンド間の整合性担保

## 開発プロセス

### 開発フロー

AppGeniusでは、以下のフローで開発を進めます：

#### 1. 初期計画フェーズ

1. **requirements.md**
   - プロジェクトの基本要件とゴールを定義
   - ページ一覧と主要機能の概要を作成
   - ユーザーストーリーと優先順位の設定

2. **architecture/tech-stack.md**
   - プロジェクトの技術選定と根拠を文書化
   - フロントエンド/バックエンド技術の決定
   - 開発環境と依存関係の定義

#### 2. モックアップ開発フェーズ

3. **mockups/components/** (基本コンポーネント)
   - 共通UI要素の設計と実装
   - デザインシステムの基礎確立
   - 再利用パターンの定義

4. **mockups/pages/** (優先度順)
   - コア機能から順にページモックアップを作成
   - ユーザーフローを実現する画面遷移の実装
   - インタラクションとフォーム要素の動作確認

5. **mockups/index.html**
   - 全モックアップへのナビゲーション実装
   - モックアップの全体像を可視化
   - 進捗状況の確認ポイント提供

#### 3. 技術設計フェーズ

6. **shared/index.ts**
   - モックアップから必要なデータ構造を抽出して型定義化
   - エンティティ間の関係を型システムで定義
   - フロントエンド/バックエンドで共有する型の設計

7. **directory-structure.md** (更新版)
   - モックアップから明らかになった実際のコンポーネント構造を反映
   - バックエンドの役割と責任に基づく構造の最適化
   - コード生成と保守を考慮したフォルダ構成の微調整

8. **api/index.md**
   - API設計の基本原則を定義
   - エンドポイント命名規則の確立
   - 認証とエラーハンドリングの共通方針

9. **api/[機能カテゴリ].md** (優先度順)
    - モックアップの機能を実現するAPI設計
    - リクエスト/レスポンス形式の定義
    - エラーケースの考慮

10. **api/auth.md**
    - 認証フローの詳細設計
    - トークン管理とセキュリティ対策
    - 権限管理の仕組み

11. **testing/test-strategy.md**
    - テストアプローチと範囲の定義
    - ユニット/統合/E2Eテストの方針
    - テスト環境と自動化の計画

#### 4. 実装準備フェーズ

12. **SCOPE_PROGRESS.md** (初期版)
    - 第一実装スコープの詳細定義
    - 具体的なタスクリストの作成
    - 依存関係と優先順位の設定
    - 要件定義統合エージェントの分析に基づく実装計画

13. **deployment/deploy.md**
    - 開発環境から本番環境への移行手順
    - CI/CDパイプラインの設定方法
    - リリース手順とチェックリスト

14. **deployment/env-template.md** (詳細版)
    - 実装に必要な全環境変数の完全リスト
    - 各環境(開発/ステージング/本番)の設定差分
    - シークレット管理の詳細手順

#### 5. 実装・改善サイクル

15. **SCOPE_PROGRESS.md** (継続的更新)
    - 実装進捗に合わせた定期的な更新
    - 次のスコープの詳細計画追加
    - 完了タスクの記録と振り返り

16. **architecture/directory-structure.md** (最終版)
    - 実際の実装経験を反映した調整
    - コード分割や最適化の反映
    - 将来の拡張性考慮点の追加

17. **requirements.md** (最終更新)
    - 実装過程で明らかになった要件の調整
    - 実現した機能と制約の明確化
    - プロジェクト全体の完成状況確認

### エージェント間のファイル参照フロー

- **初期設計フロー**:  
  クライアント要望 → プロジェクトファウンデーション → モックアップクリエイター → データモデルアーキテクト → APIデザイナー → 要件定義統合エージェント

- **実装フロー**:  
  要件定義統合エージェント → スコーププランナー → フロントエンド/バックエンド実装エージェント → テスト&品質エージェント

- **デプロイフロー**:  
  実装コード + 技術スタック情報 → 環境&デプロイエージェント → 本番環境

- **メンテナンスフロー**:  
  変更要求 → チェンジディレクター → 関連エージェント → リファクタリングスペシャリスト


## 開発原則

1. **モックアップ主導開発**
   - モックアップをまず作成し、それを「動かす」ことに集中
   - 非技術者にも理解しやすい進捗状況の可視化

2. **単一の真実源**
   - 型定義はshared/index.tsに一元管理
   - APIパスもshared/index.tsで定義

3. **中央資料の一貫性維持**
   - すべての変更は中央資料に反映
   - 複数AIが同じ情報源を参照できるよう整合性を保持

4. **シンプルさと品質重視の姿勢**
   - 「とりあえず動く」ではなく、正しく簡潔な実装を追求
   - 本質的に必要なものだけを残し、複雑性を排除
   - 問題の根本原因を特定し、正面から解決

5. **実証的アプローチ**
   - モックデータではなく実際の環境変数を使用
   - テスト環境でも本番環境と同じ認証情報を使用

6. **シンプルな自社実装認証**
   - JWTベースの独自認証システム実装
   - データフローのシンプル化とエラー特定の容易さを実現
   - アクセストークンとリフレッシュトークンの2段階方式

7. **機能のライフサイクル管理**
   - 機能の提案から実装、保守、廃止までを体系的に管理
   - 変更・追加・削除の影響範囲を常に評価
   - リファクタリングを継続的改善サイクルに組み込む

## まとめ

AppGeniusの複数AIエージェント開発方法論は、要件定義からモックアップ作成、データモデル設計、実装、テスト、デプロイまでの一連のプロセスを体系化し、18の専門AIエージェントの連携によって高品質なソフトウェア開発を実現します。

この方法論の特徴は、役割が明確に分担されたAIエージェント、シンプルで整理されたドキュメント構造、型定義の一元管理、モックアップ主導の開発プロセス、そしてSCOPE_PROGRESSによる進捗管理です。

各AIエージェントがその専門分野に集中し、一貫したドキュメントと成果物を生成することで、シンプルで堅牢、かつ保守性の高い開発を実現します。また、既存プロジェクト分析や変更管理、リファクタリングなどの特殊ケースにも対応するエージェントを用意し、プロジェクトのライフサイクル全体をサポートします。
