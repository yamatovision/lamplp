# 小規模事業者向け受発注システム要件定義書
ああああああ
## 1. プロジェクト概要

本プロジェクトは、漁業、水産業、林産業、加工業社、商社などの小規模事業者向けに、手頃な価格で利用できる受発注システムを開発し、月額サブスクリプションモデルで提供するものである。従来の高価な販売管理システム（弥生販売など）に代わる、使いやすく機能的なシステムを目指す。

## 2. 目標とゴール

- ITリテラシーが低いユーザーでも直感的に使える操作性の実現
- 月額1万円で提供できる適切な機能セットの実現
- 受発注業務の効率化と適切な在庫・納期管理の実現
- AI技術を活用した付加価値サービスの提供
- 異なるユーザーロールに応じた適切な情報アクセス制御の実現
- メーカー在庫の確保機能による効率的な在庫管理の実現

## 3. ターゲットユーザー

- **主要業種**: 漁業、水産業、林産業、加工業者、商社
- **事業規模**: 小規模事業者
- **ITリテラシー**: 非常に低い（FAX主体の業務を行っているレベルを含む）
- **利用シーン**: 受発注業務、在庫管理、請求管理など日常の販売管理業務

## 4. 機能要件

### 4.1 マスタ管理機能

#### 仕入先マスター
- 仕入先基本情報管理（企業名、住所、連絡先等）
- 契約条件管理（支払条件、納入条件等）
- 取引履歴参照
- API連携設定（在庫確認用）

#### 得意先マスター
- 得意先基本情報管理（企業名、住所、連絡先等）
- 契約条件管理（請求条件、配送条件等）
- 取引履歴参照
- 与信管理

#### 商品マスター
- 商品基本情報管理（商品コード、名称、単価等）
- 原価情報管理
- 在庫連携設定
- 商品カテゴリ管理
- 商品画像管理
- 仕入先別調達情報

#### 倉庫マスター
- 倉庫基本情報管理（倉庫名、住所、連絡先等）
- 倉庫内エリア・棚管理
- 商品配置管理
- 仮想倉庫設定（確保在庫用）

### 4.2 受注管理機能

- 受注入力
- 受注ステータス管理（受注、出荷指示、出荷完了、納品完了、請求済等）
- 受注履歴管理
- 納期回答管理
- 顧客別受注一覧
- 受注分析レポート
- 受注書PDF出力
- 在庫確保連動機能

### 4.3 発注管理機能

- 発注入力
- 発注ステータス管理（発注、入荷予定、入荷完了、支払済等）
- 発注履歴管理
- 納期管理
- 仕入先別発注一覧
- 発注分析レポート
- 発注書PDF出力
- 在庫確保状況反映

### 4.4 在庫管理機能

- 在庫照会（リアルタイム在庫数確認）
- 複数倉庫管理
- 入出庫履歴管理
- 在庫移動管理
- 棚卸機能
- 在庫アラート機能（在庫不足、過剰在庫）
- 在庫分析レポート

#### 4.4.1 在庫確保機能
- メーカー在庫確保リクエスト
- 確保在庫管理（確保期間、確保数量等）
- 確保在庫一覧・検索
- 確保在庫の受注・発注への自動割当
- 確保期限アラート
- 確保解除機能
- 確保履歴管理

#### 4.4.2 予測発注・在庫確保機能
- 過去の取引データに基づく需要予測
- 予測に基づく自動在庫確保提案
- 予測信頼度表示
- 季節変動を考慮した予測
- 予測確保の承認ワークフロー
- 確保結果のフィードバック分析

### 4.5 売上管理機能

- 売上計上
- 売上一覧表示
- 売上分析（商品別、得意先別、期間別等）
- 売上グラフ表示
- 売上目標管理
- 売上レポート出力

### 4.6 仕入管理機能

- 仕入計上
- 仕入一覧表示
- 仕入分析（商品別、仕入先別、期間別等）
- 仕入グラフ表示
- 仕入予算管理
- 仕入レポート出力

### 4.7 発送管理機能

- 出荷指示書作成
- 送り状番号管理
- 配送状況トラッキング
- 配送会社API連携
- 納品書PDF出力
- 配送ルート最適化

### 4.8 請求管理機能

- 請求書作成
- 請求ステータス管理
- 入金管理
- 請求書PDF出力
- 請求履歴管理
- 滞納管理
- 請求サイクル設定

### 4.9 AI機能

- 需要予測（過去の取引データに基づく発注提案）
- 在庫最適化提案
- 価格最適化提案
- 取引先レコメンデーション
- 不正検知（異常な取引パターンの検出）
- 業務効率化提案
- 在庫確保最適化提案

### 4.10 アクセス権限管理

- ユーザーロール管理
  - 管理者（全機能アクセス可）
  - 営業担当者（仕入値非表示）
  - 倉庫担当者（金額非表示）
  - 取引先ユーザー（限定的アクセス）
- 取引先アクセス管理
- 部門別アクセス制限
- 閲覧履歴管理

### 4.11 帳票出力機能

- 見積書
- 受注書
- 発注書
- 納品書
- 請求書
- 入金通知書
- 在庫報告書
- 各種分析レポート
- 在庫確保証明書

## 5. 非機能要件

### 5.1 性能要件

- 同時接続ユーザー数: 100名
- レスポンス時間: 画面表示3秒以内
- 処理能力: 月間取引2万件（発注1万件、受注1万件）

### 5.2 可用性要件

- サービス稼働率: 99.5%以上
- 計画メンテナンス: 月1回、深夜時間帯
- バックアップ: 日次

### 5.3 セキュリティ要件

- ユーザー認証: ID/パスワード
- アクセス制御: ロールベースアクセス制御
- データ暗号化: 通信経路およびDB内の機密情報
- セキュリティ監査: 定期的なログ分析
- パスワードポリシー実装

### 5.4 運用・保守要件

- ヘルプデスク対応
- 定期的な機能アップデート
- 障害対応窓口
- 操作マニュアル整備
- トレーニング体制

### 5.5 UI/UX要件

- ITリテラシーが低いユーザーでも使いやすいシンプルなUI
- レスポンシブデザイン（PC、タブレット、スマートフォン対応）
- 分かりやすいエラーメッセージ
- ステップバイステップのガイド機能
- 検索機能の充実

## 6. ページリスト

### 6.1 共通ページ

1. **ログインページ**
   - **説明**: システムへのアクセス認証を行うページ
   - **主要機能**:
     - ユーザーID/パスワード入力
     - パスワードリセット
     - ログイン履歴表示

2. **ダッシュボード**
   - **説明**: ログイン後の最初のページ、重要情報を一覧表示
   - **主要機能**:
     - 受注・発注状況サマリー
     - 在庫アラート表示
     - 未処理タスク一覧
     - 売上・仕入グラフ
     - AI提案表示
     - 在庫確保状況サマリー

### 6.2 マスタ管理ページ

3. **仕入先マスタ管理**
   - **説明**: 仕入先情報の登録・編集・参照
   - **主要機能**:
     - 仕入先一覧表示
     - 仕入先情報登録・編集
     - 仕入先検索
     - 取引履歴表示
     - API連携設定

4. **得意先マスタ管理**
   - **説明**: 得意先情報の登録・編集・参照
   - **主要機能**:
     - 得意先一覧表示
     - 得意先情報登録・編集
     - 得意先検索
     - 取引履歴表示

5. **商品マスタ管理**
   - **説明**: 商品情報の登録・編集・参照
   - **主要機能**:
     - 商品一覧表示
     - 商品情報登録・編集
     - 商品検索
     - 在庫状況表示
     - 価格設定
     - 仕入先別調達情報設定

6. **倉庫マスタ管理**
   - **説明**: 倉庫情報の登録・編集・参照
   - **主要機能**:
     - 倉庫一覧表示
     - 倉庫情報登録・編集
     - 倉庫内レイアウト管理
     - 商品配置設定
     - 仮想倉庫設定

### 6.3 受注管理ページ

7. **受注一覧**
   - **説明**: すべての受注情報を一覧表示
   - **主要機能**:
     - 受注ステータス別表示
     - 受注検索・フィルタリング
     - 受注ソート
     - 一括処理

8. **受注登録・編集**
   - **説明**: 新規受注の登録と既存受注の編集
   - **主要機能**:
     - 得意先選択
     - 商品選択・数量入力
     - 納期設定
     - 価格計算
     - 特記事項入力
     - 在庫確保連動設定

9. **受注詳細**
   - **説明**: 個別受注の詳細情報表示
   - **主要機能**:
     - 受注内容表示
     - ステータス更新
     - 納品状況確認
     - 出荷指示作成
     - 帳票発行
     - 在庫確保状況表示

### 6.4 発注管理ページ

10. **発注一覧**
    - **説明**: すべての発注情報を一覧表示
    - **主要機能**:
      - 発注ステータス別表示
      - 発注検索・フィルタリング
      - 発注ソート
      - 一括処理

11. **発注登録・編集**
    - **説明**: 新規発注の登録と既存発注の編集
    - **主要機能**:
      - 仕入先選択
      - 商品選択・数量入力
      - 納期設定
      - 価格計算
      - 特記事項入力
      - 在庫確保情報の反映

12. **発注詳細**
    - **説明**: 個別発注の詳細情報表示
    - **主要機能**:
      - 発注内容表示
      - ステータス更新
      - 入荷予定確認
      - 入荷実績登録
      - 帳票発行

### 6.5 在庫管理ページ

13. **在庫一覧**
    - **説明**: 全商品の在庫状況を一覧表示
    - **主要機能**:
      - 商品別在庫数表示
      - 倉庫別在庫表示
      - 在庫検索・フィルタリング
      - 在庫アラート表示
      - 確保在庫状況表示

14. **入出庫管理**
    - **説明**: 入出庫情報の登録・確認
    - **主要機能**:
      - 入庫登録
      - 出庫登録
      - 在庫移動登録
      - 入出庫履歴表示

15. **棚卸管理**
    - **説明**: 棚卸作業の実施・記録
    - **主要機能**:
      - 棚卸計画作成
      - 棚卸実施入力
      - 差異確認
      - 棚卸履歴管理

16. **在庫確保管理**
    - **説明**: メーカー在庫の確保管理
    - **主要機能**:
      - 在庫確保リクエスト作成
      - 確保在庫一覧表示
      - 確保状況管理
      - 確保期限管理
      - 確保解除

17. **予測発注・在庫確保**
    - **説明**: AIによる予測に基づく在庫確保管理
    - **主要機能**:
      - 需要予測表示
      - 自動確保提案
      - 確保承認・拒否
      - 予測精度分析
      - 確保パターン設定

### 6.6 売上・仕入管理ページ

18. **売上一覧**
    - **説明**: 売上情報の一覧表示
    - **主要機能**:
      - 期間別売上表示
      - 得意先別売上表示
      - 商品別売上表示
      - 売上グラフ表示

19. **仕入一覧**
    - **説明**: 仕入情報の一覧表示
    - **主要機能**:
      - 期間別仕入表示
      - 仕入先別仕入表示
      - 商品別仕入表示
      - 仕入グラフ表示

### 6.7 発送管理ページ

20. **出荷指示一覧**
    - **説明**: 出荷指示情報の一覧表示
    - **主要機能**:
      - 出荷待ち一覧
      - 出荷指示書作成
      - 出荷状況確認
      - 出荷完了登録

21. **配送状況管理**
    - **説明**: 配送状況の確認・管理
    - **主要機能**:
      - 送り状番号登録
      - 配送状況トラッキング
      - 配送完了確認
      - 配送遅延アラート

### 6.8 請求管理ページ

22. **請求書一覧**
    - **説明**: 請求書情報の一覧表示
    - **主要機能**:
      - 請求書作成
      - 請求ステータス管理
      - 請求書PDF出力
      - 一括請求処理

23. **入金管理**
    - **説明**: 入金情報の登録・確認
    - **主要機能**:
      - 入金登録
      - 入金一覧表示
      - 未入金管理
      - 入金予定管理

### 6.9 レポート・分析ページ

24. **売上分析**
    - **説明**: 売上データの詳細分析
    - **主要機能**:
      - 期間比較
      - 得意先別分析
      - 商品別分析
      - トレンド分析

25. **在庫分析**
    - **説明**: 在庫データの詳細分析
    - **主要機能**:
      - 回転率分析
      - 過剰在庫分析
      - 品切れリスク分析
      - AI在庫最適化提案
      - 確保在庫効果分析

### 6.10 設定・管理ページ

26. **ユーザー管理**
    - **説明**: システムユーザーの管理
    - **主要機能**:
      - ユーザー登録
      - ロール設定
      - アクセス権限設定
      - パスワードリセット

27. **システム設定**
    - **説明**: システム全体の設定
    - **主要機能**:
      - 基本情報設定
      - 帳票フォーマット設定
      - 自動通知設定
      - バックアップ管理
      - 在庫確保ルール設定

### 6.11 取引先向けポータル

28. **取引先ポータル（受注入力）**
    - **説明**: 得意先が発注（システム上は受注）を入力するページ
    - **主要機能**:
      - 商品選択
      - 数量・納期入力
      - 発注履歴確認
      - 配送状況確認

29. **取引先ポータル（納期・出荷確認）**
    - **説明**: 取引先が納期・出荷状況を確認するページ
    - **主要機能**:
      - 注文状況確認
      - 納期確認
      - 送り状番号確認
      - 配送状況トラッキング

30. **取引先ポータル（在庫確保）**
    - **説明**: 仕入先がユーザーからの在庫確保リクエストを管理するページ
    - **主要機能**:
      - 確保リクエスト一覧
      - 確保承認・拒否
      - 確保期間設定
      - 在庫状況表示

## 7. データモデル

### 7.1 主要エンティティ

1. **ユーザー**
   - ユーザーID
   - ユーザー名
   - パスワード(ハッシュ)
   - メールアドレス
   - ロールID
   - 所属部門
   - ステータス

2. **ロール**
   - ロールID
   - ロール名
   - 権限セット

3. **仕入先**
   - 仕入先ID
   - 仕入先名
   - 住所
   - 電話番号
   - メールアドレス
   - 担当者名
   - 支払条件
   - 取引開始日
   - API連携情報
   - ステータス

4. **得意先**
   - 得意先ID
   - 得意先名
   - 住所
   - 電話番号
   - メールアドレス
   - 担当者名
   - 請求条件
   - 与信限度額
   - 取引開始日
   - ステータス

5. **商品**
   - 商品ID
   - 商品名
   - カテゴリID
   - 単位
   - 標準原価
   - 標準売価
   - 商品画像URL
   - 在庫管理フラグ
   - 最小在庫数
   - 発注点
   - 商品説明
   - 仕入先別調達情報
   - ステータス

6. **倉庫**
   - 倉庫ID
   - 倉庫名
   - 住所
   - 責任者
   - 連絡先
   - 倉庫タイプ（実在庫/仮想倉庫）
   - ステータス

7. **在庫**
   - 在庫ID
   - 商品ID
   - 倉庫ID
   - 在庫数量
   - 最終更新日時

8. **在庫確保**
   - 確保ID
   - 商品ID
   - 仕入先ID
   - 確保数量
   - 確保申請日
   - 確保承認日
   - 確保開始日
   - 確保終了日
   - 確保ステータス
   - 関連発注ID
   - 関連受注ID
   - 備考

9. **予測確保**
   - 予測確保ID
   - 商品ID
   - 予測数量
   - 予測根拠
   - 信頼度スコア
   - 予測期間（開始）
   - 予測期間（終了）
   - 提案日
   - 承認日
   - ステータス
   - 確保実施フラグ
   - 関連確保ID

10. **受注**
    - 受注ID
    - 受注日
    - 得意先ID
    - 納期
    - 受注状態
    - 担当者ID
    - 合計金額
    - 消費税額
    - 在庫確保フラグ
    - 備考

11. **受注明細**
    - 受注明細ID
    - 受注ID
    - 商品ID
    - 数量
    - 単価
    - 金額
    - 出荷状態
    - 出荷予定日
    - 在庫確保ID

12. **発注**
    - 発注ID
    - 発注日
    - 仕入先ID
    - 納期
    - 発注状態
    - 担当者ID
    - 合計金額
    - 消費税額
    - 在庫確保関連フラグ
    - 備考

13. **発注明細**
    - 発注明細ID
    - 発注ID
    - 商品ID
    - 数量
    - 単価
    - 金額
    - 入荷状態
    - 入荷予定日
    - 在庫確保ID

14. **入出庫**
    - 入出庫ID
    - 日時
    - 商品ID
    - 倉庫ID
    - 種別（入庫/出庫）
    - 数量
    - 関連伝票ID
    - 担当者ID
    - 備考

15. **請求**
    - 請求ID
    - 請求日
    - 得意先ID
    - 請求期間（開始）
    - 請求期間（終了）
    - 支払期限
    - 請求金額
    - 消費税額
    - 請求状態
    - 担当者ID

16. **入金**
    - 入金ID
    - 入金日
    - 得意先ID
    - 入金額
    - 入金方法
    - 関連請求ID
    - 担当者ID
    - 備考

17. **出荷**
    - 出荷ID
    - 出荷日
    - 受注ID
    - 出荷状態
    - 配送業者
    - 送り状番号
    - 担当者ID
    - 備考

## 8. 技術スタック

具体的な技術スタックについては指定がありませんでしたが、以下を推奨します：

- **フロントエンド**: React（シンプルで直感的なUIを構築可能）
- **バックエンド**: Node.js + Express（開発効率が高い）
- **データベース**: PostgreSQL（リレーショナルデータベースが適切）
- **認証**: JWT（JSONウェブトークン）
- **クラウド**: AWS, Azure, GCPのいずれか
- **CI/CD**: GitHubActions
- **モバイル対応**: レスポンシブウェブデザイン + PWA
- **AIフレームワーク**: TensorFlow.js / scikit-learn（予測分析用）
- **API連携**: RESTful API + Webhook（仕入先システム連携用）

## 9. 制約条件

- ITリテラシーが低いユーザーでも使えるUI/UX
- 月額1万円のサブスクリプション価格に見合うコスト構造
- 既存の業務フロー（スプレッドシート、弥生販売などからの移行）を考慮した設計
- 小規模事業者のニーズに合わせたシンプルさと必要十分な機能のバランス
- 仕入先システムとの連携における標準APIの不在を考慮した柔軟な設計

## 10. マイルストーン

1. **要件定義フェーズ**（1ヶ月）
   - 詳細要件確定
   - ユーザーストーリー作成
   - ワイヤーフレーム作成

2. **設計フェーズ**（1ヶ月）
   - データベース設計
   - アーキテクチャ設計
   - UI/UX設計
   - 在庫確保機能の詳細設計

3. **開発フェーズ I**（2ヶ月）
   - コアシステム開発（認証、マスタ管理）
   - 基本機能開発（受発注管理）

4. **開発フェーズ II**（2ヶ月）
   - 発展機能開発（在庫管理、在庫確保機能、請求管理）
   - 帳票・レポート機能開発

5. **開発フェーズ III**（1ヶ月）
   - AI機能開発（予測発注、在庫確保最適化）
   - 外部システム連携開発

6. **テストフェーズ**（1ヶ月）
   - 単体テスト
   - 統合テスト
   - ユーザー受け入れテスト

7. **リリースフェーズ**（0.5ヶ月）
   - デプロイ
   - ユーザートレーニング
   - マニュアル作成

8. **運用・改善フェーズ**（継続）
   - フィードバック収集
   - 継続的改善
   - 定期的機能追加

以上が、小規模事業者向け受発注システムの要件定義書となります。これらの要件に基づいて開発を進めることで、ITリテラシーの低いユーザーでも使いやすく、かつ業務効率を大幅に向上させるシステムを構築できると考えられます。特に在庫確保機能と予測発注機能により、効率的な在庫管理と取引先との連携強化が期待できます。
